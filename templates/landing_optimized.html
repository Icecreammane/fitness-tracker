<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>FitTrack Pro - Smart Fitness & Macro Tracking for Serious Results</title>
    <meta name="description" content="Track your fitness journey with precision. Monitor workouts, macros, and progress. 7-day free trial. Used by 500+ fitness enthusiasts achieving their goals.">
    <meta name="keywords" content="fitness tracking, macro tracking, workout log, weight loss, muscle gain, nutrition tracking, fitness app">
    <meta name="author" content="FitTrack Pro">
    <link rel="canonical" href="https://fittrackpro.com/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fittrackpro.com/">
    <meta property="og:title" content="FitTrack Pro - Smart Fitness & Macro Tracking">
    <meta property="og:description" content="Track your fitness journey with precision. 7-day free trial. Join 500+ users achieving their goals.">
    <meta property="og:image" content="https://fittrackpro.com/static/og-image.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fittrackpro.com/">
    <meta property="twitter:title" content="FitTrack Pro - Smart Fitness & Macro Tracking">
    <meta property="twitter:description" content="Track your fitness journey with precision. 7-day free trial. Join 500+ users achieving their goals.">
    <meta property="twitter:image" content="https://fittrackpro.com/static/og-image.jpg">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "FitTrack Pro",
      "applicationCategory": "HealthApplication",
      "offers": {
        "@type": "Offer",
        "price": "9.99",
        "priceCurrency": "USD",
        "priceValidUntil": "2025-12-31"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "127"
      },
      "operatingSystem": "Web Browser",
      "description": "Professional fitness and macro tracking application"
    }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    
    <!-- Google Analytics -->
    {% if ga_id %}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ ga_id }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', '{{ ga_id }}', {
            'anonymize_ip': true,
            'cookie_flags': 'SameSite=None;Secure'
        });
        
        // Custom event tracking
        function trackEvent(category, action, label) {
            gtag('event', action, {
                'event_category': category,
                'event_label': label
            });
        }
    </script>
    {% endif %}
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://js.stripe.com">
    
    <style>
        /* Critical CSS - Inlined for performance */
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--primary:#6366f1;--primary-dark:#4f46e5;--secondary:#10b981;--accent:#f59e0b;--bg:#fff;--bg-secondary:#f8fafc;--text:#0f172a;--text-secondary:#64748b;--border:#e2e8f0}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Inter',Roboto,sans-serif;line-height:1.6;color:var(--text);overflow-x:hidden}
        .nav{position:fixed;top:0;left:0;right:0;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);padding:16px 20px;box-shadow:0 1px 3px rgba(0,0,0,.05);z-index:1000}
        .nav-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
        .logo{font-size:24px;font-weight:800;color:var(--primary)}
        .nav-links{display:flex;gap:24px;align-items:center}
        .nav-link{color:var(--text);text-decoration:none;font-weight:500;transition:color .2s}
        .nav-link:hover{color:var(--primary)}
        .btn{padding:10px 24px;border-radius:8px;font-weight:600;text-decoration:none;transition:all .3s;cursor:pointer;border:none;font-size:14px}
        .btn-primary{background:var(--primary);color:#fff}
        .btn-primary:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:0 8px 20px rgba(99,102,241,.3)}
        .hero{padding:120px 20px 80px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;text-align:center}
        .hero h1{font-size:56px;font-weight:800;margin-bottom:20px;line-height:1.1}
        .hero-subtitle{font-size:22px;margin-bottom:32px;opacity:.95}
        .social-proof{display:flex;align-items:center;justify-content:center;gap:16px;margin:24px 0;font-size:16px}
        .trust-badge{background:rgba(255,255,255,.15);padding:8px 16px;border-radius:20px;backdrop-filter:blur(10px)}
        .features{padding:80px 20px;max-width:1200px;margin:0 auto}
        .section-title{font-size:42px;font-weight:700;text-align:center;margin-bottom:48px}
        .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px}
        .feature-card{padding:32px;background:var(--bg);border:2px solid var(--border);border-radius:12px;transition:all .3s}
        .feature-card:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.1)}
        .cta-section{padding:80px 20px;background:var(--bg-secondary);text-align:center}
        .cta-title{font-size:42px;font-weight:700;margin-bottom:16px}
        .pricing-preview{display:inline-block;margin:24px 0;padding:16px 32px;background:var(--primary);color:#fff;border-radius:12px;font-size:20px;font-weight:600}
        @media(max-width:768px){.hero h1{font-size:36px}.nav-links{display:none}}
        
        /* Loading state */
        .loading{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999}
        .loading.active{display:block}
        
        /* Exit intent popup */
        #exit-popup{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);z-index:10000;align-items:center;justify-content:center}
        #exit-popup.show{display:flex}
        .popup-content{background:#fff;padding:40px;border-radius:16px;max-width:500px;text-align:center;position:relative}
        .close-popup{position:absolute;top:16px;right:16px;font-size:24px;cursor:pointer;color:var(--text-secondary)}
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-content">
            <div class="logo">üí™ FitTrack Pro</div>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="/how-it-works" class="nav-link">How It Works</a>
                <a href="/pricing" class="nav-link">Pricing</a>
                <a href="/login" class="btn btn-primary" onclick="trackEvent('Navigation', 'click', 'Login')">Start Free Trial</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1>Transform Your Fitness Journey</h1>
        <p class="hero-subtitle">Track workouts, macros, and progress with precision. Get results faster.</p>
        
        <div class="social-proof">
            <div class="trust-badge">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê 4.8/5 rating</div>
            <div class="trust-badge">üë• Join 500+ users</div>
        </div>
        
        <a href="/signup" class="btn btn-primary" style="font-size:18px;padding:16px 40px;margin-top:16px" 
           onclick="trackEvent('CTA', 'click', 'Hero Signup')">
            Start 7-Day Free Trial ‚Üí
        </a>
        <p style="margin-top:12px;font-size:14px;opacity:0.8">No credit card required ‚Ä¢ Cancel anytime</p>
    </section>

    <!-- Features -->
    <section class="features" id="features">
        <h2 class="section-title">Everything You Need to Succeed</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <div style="font-size:48px;margin-bottom:16px">üìä</div>
                <h3 style="font-size:24px;margin-bottom:12px">Macro Tracking</h3>
                <p style="color:var(--text-secondary)">Hit your protein, carbs, and fat goals daily. See exactly what you're eating.</p>
            </div>
            <div class="feature-card">
                <div style="font-size:48px;margin-bottom:16px">üèãÔ∏è</div>
                <h3 style="font-size:24px;margin-bottom:12px">Workout Logging</h3>
                <p style="color:var(--text-secondary)">Track lifts, estimate 1RMs, and watch your strength grow over time.</p>
            </div>
            <div class="feature-card">
                <div style="font-size:48px;margin-bottom:16px">üìà</div>
                <h3 style="font-size:24px;margin-bottom:12px">Progress Charts</h3>
                <p style="color:var(--text-secondary)">Beautiful visualizations of your weight, calories, and performance trends.</p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <h2 class="cta-title">Ready to Transform Your Fitness?</h2>
        <p style="font-size:20px;color:var(--text-secondary);margin-bottom:24px">Start tracking today and see results in weeks, not months.</p>
        <div class="pricing-preview">Only $9.99/month</div>
        <br>
        <a href="/signup" class="btn btn-primary" style="font-size:18px;padding:16px 40px"
           onclick="trackEvent('CTA', 'click', 'Bottom Signup')">
            Start Your Free Trial
        </a>
    </section>

    <!-- Exit Intent Popup -->
    <div id="exit-popup">
        <div class="popup-content">
            <span class="close-popup" onclick="closeExitPopup()">&times;</span>
            <h2 style="margin-bottom:16px">Wait! Before You Go...</h2>
            <p style="margin-bottom:24px;color:var(--text-secondary)">
                Start your 7-day free trial now. No credit card required. 
                Join 500+ people transforming their fitness.
            </p>
            <a href="/signup" class="btn btn-primary" style="display:inline-block;margin-bottom:12px"
               onclick="trackEvent('Exit Intent', 'click', 'Popup CTA')">
                Start Free Trial ‚Üí
            </a>
            <p style="font-size:14px;color:var(--text-secondary)">Cancel anytime, no questions asked</p>
        </div>
    </div>

    <!-- Loading state -->
    <div class="loading" id="loading-spinner">
        <div style="font-size:48px">‚è≥</div>
    </div>

    <script>
        // Exit intent detection
        let exitIntentShown = false;
        
        document.addEventListener('mouseleave', function(e) {
            if (e.clientY < 0 && !exitIntentShown) {
                exitIntentShown = true;
                document.getElementById('exit-popup').classList.add('show');
                trackEvent('Exit Intent', 'trigger', 'Mouse Leave');
            }
        });
        
        function closeExitPopup() {
            document.getElementById('exit-popup').classList.remove('show');
            trackEvent('Exit Intent', 'close', 'User Closed');
        }
        
        // Close popup on outside click
        document.getElementById('exit-popup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeExitPopup();
            }
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
        
        // Track scroll depth
        let maxScroll = 0;
        window.addEventListener('scroll', function() {
            const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
            if (scrollPercent > maxScroll) {
                maxScroll = scrollPercent;
                if (scrollPercent > 25 && scrollPercent < 50) {
                    trackEvent('Engagement', 'scroll', '25%');
                } else if (scrollPercent > 50 && scrollPercent < 75) {
                    trackEvent('Engagement', 'scroll', '50%');
                } else if (scrollPercent > 75) {
                    trackEvent('Engagement', 'scroll', '75%');
                }
            }
        });
        
        // Form submission loading state
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', function() {
                document.getElementById('loading-spinner').classList.add('active');
            });
        });
    </script>
    
    <!-- Defer non-critical scripts -->
    <script defer src="/static/app.js"></script>
</body>
</html>
